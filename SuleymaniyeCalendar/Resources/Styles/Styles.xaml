<?xml version="1.0" encoding="UTF-8" ?>
<?xaml-comp compile="true" ?>
<ResourceDictionary
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:ios="clr-namespace:Microsoft.Maui.Controls.PlatformConfiguration.iOSSpecific;assembly=Microsoft.Maui.Controls">

    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->
    <!-- SPACING & SIZING - Consistent spacing and sizing values -->
    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->
    <x:Double x:Key="ButtonTextSize">14</x:Double>
    <x:Double x:Key="BodyLargeSize">16</x:Double>
    <x:Double x:Key="BodyMediumSize">14</x:Double>
    <x:Double x:Key="BodySmallSize">12</x:Double>

    <Thickness x:Key="CardPaddingDefault">16</Thickness>
    <Thickness x:Key="CardPaddingTight">12</Thickness>
    <Thickness x:Key="CardMarginDefault">12,8</Thickness>
    <Thickness x:Key="CardMarginList">8,4</Thickness>
    
    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->
    <!-- CARD SYSTEM - A modern, consistent design for all card-based UI -->
    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->

    <!--  Base Card - A modern, clean card foundation for the new design system  -->
    <Style x:Key="Card" TargetType="Border">
        <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={StaticResource SurfaceContainerLowLight}, Dark={StaticResource SurfaceContainerLowDark}}" />
        <Setter Property="Stroke" Value="{AppThemeBinding Light={StaticResource OutlineVariantLight}, Dark={StaticResource OutlineVariantDark}}" />
        <Setter Property="StrokeThickness" Value="1" />
        <Setter Property="StrokeShape" Value="RoundRectangle 16" />
        <Setter Property="Padding" Value="{StaticResource CardPaddingDefault}" />
        <Setter Property="Margin" Value="{StaticResource CardMarginDefault}" />
        <Setter Property="HorizontalOptions" Value="Fill" />
        <Setter Property="Shadow">
            <Shadow Brush="{AppThemeBinding Light={StaticResource ShadowColorLight}, Dark={StaticResource ShadowColorDark}}"
                    Offset="0,4"
                    Radius="12"
                    Opacity="{AppThemeBinding Light=0.08, Dark=0.25}" />
        </Setter>
        <Setter Property="VisualStateManager.VisualStateGroups">
            <VisualStateGroupList>
                <VisualStateGroup x:Name="CommonStates">
                    <VisualState x:Name="Normal" />
                    <VisualState x:Name="Disabled">
                        <VisualState.Setters>
                            <Setter Property="Opacity" Value="0.5" />
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateGroupList>
        </Setter>
    </Style>

    <!--  Glass Card - A translucent, blurred-background card for a modern, layered look  -->
    <Style x:Key="GlassCard" TargetType="Border" BasedOn="{StaticResource Card}">
        <Setter Property="BackgroundColor" Value="Transparent" />
        <Setter Property="Background" Value="{AppThemeBinding Light={StaticResource SurfaceGlassBrushLight}, Dark={StaticResource SurfaceGlassBrushDark}}" />
        <Setter Property="Stroke" Value="{AppThemeBinding Light={StaticResource GlassStrokeLight}, Dark={StaticResource GlassStrokeDark}}" />
        <Setter Property="StrokeThickness" Value="1.2" />
        <Setter Property="Shadow">
            <Shadow Brush="{AppThemeBinding Light={StaticResource ShadowColorLight}, Dark={StaticResource ShadowColorDark}}"
                    Offset="0,8"
                    Radius="24"
                    Opacity="{AppThemeBinding Light=0.10, Dark=0.30}" />
        </Setter>
    </Style>

    <!--  Prayer Card (Optimized) - A high-performance card for prayer time lists, using solid colors  -->
    <Style x:Key="PrayerCardOptimized" TargetType="Border" BasedOn="{StaticResource Card}">
        <Setter Property="Padding" Value="{StaticResource CardPaddingTight}" />
        <Setter Property="Margin" Value="{StaticResource CardMarginList}" />
        <Setter Property="StrokeShape" Value="RoundRectangle 14" />
        <Setter Property="MinimumHeightRequest" Value="60" />
        <Setter Property="StrokeThickness" Value="1.2" />
        <Setter Property="Shadow">
            <Shadow Brush="{AppThemeBinding Light={StaticResource ShadowColorLight}, Dark={StaticResource ShadowColorDark}}"
                    Offset="0,2"
                    Radius="4"
                    Opacity="{AppThemeBinding Light=0.05, Dark=0.15}" />
        </Setter>
        <Setter Property="VisualStateManager.VisualStateGroups">
            <VisualStateGroupList>
                <VisualStateGroup x:Name="InteractionStates">
                    <VisualState x:Name="Normal" />
                    <VisualState x:Name="Pressed">
                        <VisualState.Setters>
                            <Setter Property="Scale" Value="0.97" />
                            <Setter Property="Opacity" Value="0.8" />
                        </VisualState.Setters>
                    </VisualState>
                    <VisualState x:Name="Focused">
                        <VisualState.Setters>
                            <Setter Property="Stroke" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
                            <Setter Property="StrokeThickness" Value="2" />
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateGroupList>
        </Setter>
    </Style>

    <!--  Location Badge - A compact, pill-shaped badge for displaying the current location  -->
    <Style x:Key="MinimalLocationBadge" TargetType="Border">
        <Setter Property="HeightRequest" Value="36" />
        <Setter Property="Padding" Value="12,6" />
        <Setter Property="Margin" Value="12,8" />
        <Setter Property="StrokeShape" Value="RoundRectangle 18" />
        <Setter Property="HorizontalOptions" Value="Center" />
        <Setter Property="Background" Value="{AppThemeBinding Light={StaticResource SecondaryContainerLight}, Dark={StaticResource SecondaryContainerDark}}" />
        <Setter Property="Stroke" Value="{AppThemeBinding Light={StaticResource OutlineLight}, Dark={StaticResource OutlineDark}}" />
        <Setter Property="StrokeThickness" Value="1" />
        <Setter Property="Shadow">
            <Shadow Brush="{AppThemeBinding Light={StaticResource ShadowColorLight}, Dark={StaticResource ShadowColorDark}}"
                    Offset="0,2"
                    Radius="8"
                    Opacity="{AppThemeBinding Light=0.10, Dark=0.20}" />
        </Setter>
    </Style>

    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->
    <!-- INTERACTIVE ELEMENTS - Controls, buttons, and indicators -->
    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->

    <!--  Activity Indicator - A subtle, branded loading spinner  -->
    <Style x:Key="DefaultActivityIndicator" TargetType="ActivityIndicator">
        <Setter Property="Color" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
        <Setter Property="HorizontalOptions" Value="Center" />
        <Setter Property="VerticalOptions" Value="Center" />
        <Setter Property="HeightRequest" Value="48" />
        <Setter Property="WidthRequest" Value="48" />
    </Style>

    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->
    <!--  BUTTON STYLES - A comprehensive set for all interactions -->
    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->

    <!--  Base Button - The foundation for all button styles  -->
    <Style x:Key="BaseButton" TargetType="Button">
        <Setter Property="HeightRequest" Value="48" />
        <Setter Property="CornerRadius" Value="24" />
        <Setter Property="FontFamily" Value="MontserratMedium" />
        <Setter Property="FontSize" Value="{StaticResource ButtonTextSize}" />
        <Setter Property="Padding" Value="24,0" />
        <Setter Property="MinimumWidthRequest" Value="120" />
        <Setter Property="HorizontalOptions" Value="Center" />
        <Setter Property="VerticalOptions" Value="Center" />
        <Setter Property="BorderWidth" Value="1.5" />
        <Setter Property="VisualStateManager.VisualStateGroups">
            <VisualStateGroupList>
                <VisualStateGroup x:Name="CommonStates">
                    <VisualState x:Name="Normal">
                        <VisualState.Setters>
                            <Setter Property="Scale" Value="1.0" />
                            <Setter Property="Shadow">
                                <Shadow Brush="{AppThemeBinding Light={StaticResource ShadowColorLight}, Dark={StaticResource ShadowColorDark}}"
                                        Offset="0,4"
                                        Radius="12"
                                        Opacity="{AppThemeBinding Light=0.1, Dark=0.3}" />
                            </Setter>
                        </VisualState.Setters>
                    </VisualState>
                    <VisualState x:Name="Pressed">
                        <VisualState.Setters>
                            <Setter Property="Scale" Value="0.96" />
                            <Setter Property="Shadow">
                                <Shadow Brush="{AppThemeBinding Light={StaticResource ShadowColorLight}, Dark={StaticResource ShadowColorDark}}"
                                        Offset="0,2"
                                        Radius="6"
                                        Opacity="{AppThemeBinding Light=0.08, Dark=0.25}" />
                            </Setter>
                        </VisualState.Setters>
                    </VisualState>
                    <VisualState x:Name="Disabled">
                        <VisualState.Setters>
                            <Setter Property="Opacity" Value="0.6" />
                            <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={StaticResource SurfaceContainerHighLight}, Dark={StaticResource SurfaceContainerHighDark}}" />
                            <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource OnSurfaceVariantLight}, Dark={StaticResource OnSurfaceVariantDark}}" />
                            <Setter Property="BorderColor" Value="{AppThemeBinding Light={StaticResource OutlineVariantLight}, Dark={StaticResource OutlineVariantDark}}" />
                            <Setter Property="Shadow">
                                <Shadow Opacity="0" />
                            </Setter>
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateGroupList>
        </Setter>
    </Style>

    <!--  Filled Button (Primary Action) - High emphasis  -->
    <Style x:Key="FilledButton" TargetType="Button" BasedOn="{StaticResource BaseButton}">
        <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
        <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource OnPrimary}, Dark={StaticResource OnPrimaryDark}}" />
        <Setter Property="BorderColor" Value="Transparent" />
    </Style>

    <!--  Outlined Button (Secondary Action) - Medium emphasis  -->
    <Style x:Key="OutlinedButton" TargetType="Button" BasedOn="{StaticResource BaseButton}">
        <Setter Property="BackgroundColor" Value="Transparent" />
        <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
        <Setter Property="BorderColor" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
        <Setter Property="Shadow">
            <Shadow Opacity="0" />
        </Setter>
    </Style>

    <!--  Text Button (Low Emphasis) - For less prominent actions  -->
    <Style x:Key="TextButton" TargetType="Button" BasedOn="{StaticResource BaseButton}">
        <Setter Property="BackgroundColor" Value="Transparent" />
        <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
        <Setter Property="BorderColor" Value="Transparent" />
        <Setter Property="Shadow">
            <Shadow Opacity="0" />
        </Setter>
    </Style>

    <!--  Tonal Button - A softer, medium-emphasis button  -->
    <Style x:Key="TonalButton" TargetType="Button" BasedOn="{StaticResource BaseButton}">
        <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={StaticResource SecondaryContainerLight}, Dark={StaticResource SecondaryContainerDark}}" />
        <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource OnSecondaryContainerLight}, Dark={StaticResource OnSecondaryContainerDark}}" />
        <Setter Property="BorderColor" Value="Transparent" />
    </Style>

    <!--  Icon Button - For compact, icon-only actions (e.g., refresh, settings)  -->
    <Style x:Key="IconButton" TargetType="ImageButton">
        <Setter Property="HeightRequest" Value="44" />
        <Setter Property="WidthRequest" Value="44" />
        <Setter Property="CornerRadius" Value="22" />
        <Setter Property="BackgroundColor" Value="Transparent" />
        <Setter Property="BorderColor" Value="Transparent" />
        <Setter Property="BorderWidth" Value="0" />
        <Setter Property="Padding" Value="10" />
        <Setter Property="Aspect" Value="AspectFit" />
        <Setter Property="VisualStateManager.VisualStateGroups">
            <VisualStateGroupList>
                <VisualStateGroup x:Name="CommonStates">
                    <VisualState x:Name="Normal">
                        <VisualState.Setters>
                            <Setter Property="Scale" Value="1.0" />
                        </VisualState.Setters>
                    </VisualState>
                    <VisualState x:Name="Pressed">
                        <VisualState.Setters>
                            <Setter Property="Scale" Value="0.9" />
                            <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={StaticResource SurfaceContainerHighestLight}, Dark={StaticResource SurfaceContainerHighestDark}}" />
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateGroupList>
        </Setter>
    </Style>

    <!--  Floating Action Button (FAB) - For primary, screen-level actions  -->
    <Style x:Key="FabButton" TargetType="Button" BasedOn="{StaticResource FilledButton}">
        <Setter Property="HeightRequest" Value="56" />
        <Setter Property="WidthRequest" Value="56" />
        <Setter Property="CornerRadius" Value="28" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="FontSize" Value="24" />
        <Setter Property="FontFamily" Value="IconFont" />
        <Setter Property="Shadow">
            <Shadow Brush="{AppThemeBinding Light={StaticResource ShadowColorLight}, Dark={StaticResource ShadowColorDark}}"
                    Offset="0,6"
                    Radius="16"
                    Opacity="{AppThemeBinding Light=0.15, Dark=0.35}" />
        </Setter>
    </Style>

    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->
    <!-- FORM & INPUT STYLES - Consistent styling for user input -->
    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->

    <!--  Base Input Style - Foundation for Entry and Picker  -->
    <Style x:Key="BaseInputStyle" TargetType="View">
        <Setter Property="HeightRequest" Value="56" />
        <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={StaticResource SurfaceContainerHighestLight}, Dark={StaticResource SurfaceContainerHighestDark}}" />
        <Setter Property="Margin" Value="0,8" />
        <Setter Property="HorizontalOptions" Value="Fill" />
        <Setter Property="VisualStateManager.VisualStateGroups">
            <VisualStateGroupList>
                <VisualStateGroup x:Name="CommonStates">
                    <VisualState x:Name="Normal" />
                    <VisualState x:Name="Focused">
                        <VisualState.Setters>
                            <!-- This state is handled by the Border container -->
                        </VisualState.Setters>
                    </VisualState>
                    <VisualState x:Name="Disabled">
                        <VisualState.Setters>
                            <Setter Property="Opacity" Value="0.5" />
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateGroupList>
        </Setter>
    </Style>

    <!--  Input Border Container - Wraps Entry and Picker for consistent look  -->
    <Style x:Key="InputBorderStyle" TargetType="Border">
        <Setter Property="Stroke" Value="{AppThemeBinding Light={StaticResource OutlineVariantLight}, Dark={StaticResource OutlineVariantDark}}" />
        <Setter Property="StrokeThickness" Value="1.5" />
        <Setter Property="StrokeShape" Value="RoundRectangle 12" />
        <Setter Property="Padding" Value="16,0" />
        <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={StaticResource SurfaceContainerHighestLight}, Dark={StaticResource SurfaceContainerHighestDark}}" />
        <Setter Property="VisualStateManager.VisualStateGroups">
            <VisualStateGroupList>
                <VisualStateGroup x:Name="CommonStates">
                    <VisualState x:Name="Normal" />
                    <VisualState x:Name="Focused">
                        <VisualState.Setters>
                            <Setter Property="Stroke" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
                            <Setter Property="StrokeThickness" Value="2.5" />
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateGroupList>
        </Setter>
    </Style>

    <!--  Entry Style  -->
    <Style x:Key="DefaultEntry" TargetType="Entry" BasedOn="{StaticResource BaseInputStyle}">
        <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource OnSurfaceLight}, Dark={StaticResource OnSurfaceDark}}" />
        <Setter Property="PlaceholderColor" Value="{AppThemeBinding Light={StaticResource OnSurfaceVariantLight}, Dark={StaticResource OnSurfaceVariantDark}}" />
        <Setter Property="FontFamily" Value="MontserratRegular" />
        <Setter Property="FontSize" Value="{StaticResource BodyLargeSize}" />
        <Setter Property="VerticalOptions" Value="Center" />
    </Style>

    <!--  Picker Style  -->
    <Style x:Key="DefaultPicker" TargetType="Picker" BasedOn="{StaticResource BaseInputStyle}">
        <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource OnSurfaceLight}, Dark={StaticResource OnSurfaceDark}}" />
        <Setter Property="TitleColor" Value="{AppThemeBinding Light={StaticResource OnSurfaceVariantLight}, Dark={StaticResource OnSurfaceVariantDark}}" />
        <Setter Property="FontFamily" Value="MontserratRegular" />
        <Setter Property="FontSize" Value="{StaticResource BodyLargeSize}" />
        <Setter Property="VerticalOptions" Value="Center" />
    </Style>

    <!--  Switch Style  -->
    <Style x:Key="DefaultSwitch" TargetType="Switch">
        <Setter Property="OnColor" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
        <Setter Property="ThumbColor" Value="{AppThemeBinding Light={StaticResource OnPrimary}, Dark={StaticResource OnPrimaryDark}}" />
        <Setter Property="VisualStateManager.VisualStateGroups">
            <VisualStateGroupList>
                <VisualStateGroup x:Name="CommonStates">
                    <VisualState x:Name="On">
                        <VisualState.Setters>
                            <Setter Property="OnColor" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
                            <Setter Property="ThumbColor" Value="{AppThemeBinding Light={StaticResource OnPrimary}, Dark={StaticResource OnPrimaryDark}}" />
                        </VisualState.Setters>
                    </VisualState>
                    <VisualState x:Name="Off">
                        <VisualState.Setters>
                            <Setter Property="ThumbColor" Value="{AppThemeBinding Light={StaticResource OutlineVariantLight}, Dark={StaticResource OutlineVariantDark}}" />
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateGroupList>
        </Setter>
    </Style>

    <!--  CheckBox Style  -->
    <Style x:Key="DefaultCheckBox" TargetType="CheckBox">
        <Setter Property="Color" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
        <Setter Property="HeightRequest" Value="24" />
        <Setter Property="WidthRequest" Value="24" />
    </Style>

    <!--  RadioButton Style  -->
    <Style x:Key="DefaultRadioButton" TargetType="RadioButton">
        <Setter Property="BackgroundColor" Value="Transparent" />
        <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource OnSurfaceLight}, Dark={StaticResource OnSurfaceDark}}" />
        <Setter Property="BorderColor" Value="{AppThemeBinding Light={StaticResource OutlineVariantLight}, Dark={StaticResource OutlineVariantDark}}" />
        <!-- The "Color" property is not available for styling RadioButton this way.
             It should be set directly on the control or via a ControlTemplate.
        <Setter Property="Color" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
        -->
        <Setter Property="FontFamily" Value="MontserratRegular" />
        <Setter Property="FontSize" Value="{StaticResource BodyLargeSize}" />
        <Setter Property="Padding" Value="12,0" />
    </Style>

    <!--  Slider Style  -->
    <Style x:Key="DefaultSlider" TargetType="Slider">
        <Setter Property="MinimumTrackColor" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
        <Setter Property="MaximumTrackColor" Value="{AppThemeBinding Light={StaticResource SurfaceContainerHighestLight}, Dark={StaticResource SurfaceContainerHighestDark}}" />
        <Setter Property="ThumbColor" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
    </Style>

    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->
    <!-- NAVIGATION & MISC - Shell, Tabs, and other UI components -->
    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->

    <!--  Shell Flyout Style  -->
    <Style x:Key="ShellFlyoutStyle" TargetType="Shell">
        <Setter Property="FlyoutBackgroundColor" Value="{AppThemeBinding Light={StaticResource SurfaceContainerLight}, Dark={StaticResource SurfaceContainerDark}}" />
        <Setter Property="FlyoutBackdrop" Value="{AppThemeBinding Light={StaticResource ScrimLight}, Dark={StaticResource ScrimDark}}" />
    </Style>

    <!--  Flyout Item Style  -->
    <Style x:Key="FlyoutItemStyle" TargetType="Grid">
        <Setter Property="VisualStateManager.VisualStateGroups">
            <VisualStateGroupList>
                <VisualStateGroup x:Name="CommonStates">
                    <VisualState x:Name="Normal" />
                    <VisualState x:Name="Selected">
                        <VisualState.Setters>
                            <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={StaticResource SecondaryContainerLight}, Dark={StaticResource SecondaryContainerDark}}" />
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateGroupList>
        </Setter>
    </Style>

    <!--  Separator Line Style  -->
    <Style x:Key="SeparatorLine" TargetType="BoxView">
        <Setter Property="HeightRequest" Value="1" />
        <Setter Property="Color" Value="{AppThemeBinding Light={StaticResource OutlineVariantLight}, Dark={StaticResource OutlineVariantDark}}" />
        <Setter Property="Margin" Value="0,8" />
    </Style>

    <!--  RefreshView Style  -->
    <Style x:Key="DefaultRefreshView" TargetType="RefreshView">
        <Setter Property="RefreshColor" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
        <Setter Property="Background" Value="Transparent" />
    </Style>

    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->
    <!-- TABLE & CALENDAR STYLES - For data-heavy views -->
    <!-- ═══════════════════════════════════════════════════════════════════════════════════ -->

    <!--  Weekday Label Style (for Calendar)  -->
    <Style x:Key="WeekdayLabelStyle" TargetType="Label">
        <Setter Property="Style" Value="{StaticResource LabelMediumStyle}" />
        <Setter Property="FontAttributes" Value="Bold" />
        <Setter Property="HorizontalTextAlignment" Value="Center" />
        <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource OnSurfaceVariantLight}, Dark={StaticResource OnSurfaceVariantDark}}" />
    </Style>

    <!--  Calendar Day Style  -->
    <Style x:Key="CalendarDay" TargetType="Border">
        <Setter Property="StrokeShape" Value="RoundRectangle 8" />
        <Setter Property="HeightRequest" Value="48" />
        <Setter Property="Content">
            <Grid>
                <Label Text="{Binding Day}"
                       FontSize="14"
                       HorizontalTextAlignment="Center"
                       VerticalTextAlignment="Center"
                       LineHeight="1.2">
                    <Label.Triggers>
                        <DataTrigger TargetType="Label" Binding="{Binding IsToday}" Value="True">
                            <Setter Property="FontAttributes" Value="Bold" />
                        </DataTrigger>
                    </Label.Triggers>
                </Label>
                <Ellipse WidthRequest="4"
                         HeightRequest="4"
                         HorizontalOptions="Center"
                         VerticalOptions="End"
                         Margin="0,0,0,4"
                         Fill="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}"
                         IsVisible="{Binding HasData}" />
            </Grid>
        </Setter>
        <Setter Property="VisualStateManager.VisualStateGroups">
            <VisualStateGroupList>
                <VisualStateGroup x:Name="CommonStates">
                    <VisualState x:Name="Normal" />
                    <VisualState x:Name="Selected">
                        <VisualState.Setters>
                            <Setter Property="BackgroundColor" Value="{AppThemeBinding Light={StaticResource PrimaryContainerLight}, Dark={StaticResource PrimaryContainerDark}}" />
                            <Setter Property="Stroke" Value="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}" />
                            <Setter Property="StrokeThickness" Value="2" />
                        </VisualState.Setters>
                    </VisualState>
                </VisualStateGroup>
            </VisualStateGroupList>
        </Setter>
    </Style>

    <!--  Table Header Label Style  -->
    <Style x:Key="TableHeaderLabel" TargetType="Label">
        <Setter Property="FontAttributes" Value="Bold" />
        <Setter Property="HorizontalTextAlignment" Value="Center" />
        <Setter Property="VerticalTextAlignment" Value="Center" />
        <Setter Property="FontSize" Value="{StaticResource BodySmallSize}" />
        <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource OnSurfaceVariantLight}, Dark={StaticResource OnSurfaceVariantDark}}" />
    </Style>

    <!--  Table Cell Label Style  -->
    <Style x:Key="TableCellLabel" TargetType="Label">
        <Setter Property="HorizontalTextAlignment" Value="Center" />
        <Setter Property="VerticalTextAlignment" Value="Center" />
        <Setter Property="FontSize" Value="{StaticResource BodyMediumSize}" />
        <Setter Property="TextColor" Value="{AppThemeBinding Light={StaticResource OnSurfaceLight}, Dark={StaticResource OnSurfaceDark}}" />
    </Style>
    
    <!--  Divider Style  -->
    <Style x:Key="Divider" TargetType="BoxView">
        <Setter Property="HeightRequest" Value="1" />
        <Setter Property="Color" Value="{AppThemeBinding Light={StaticResource OutlineVariantLight}, Dark={StaticResource OutlineVariantDark}}" />
        <Setter Property="Margin" Value="0,4" />
    </Style>

</ResourceDictionary>
