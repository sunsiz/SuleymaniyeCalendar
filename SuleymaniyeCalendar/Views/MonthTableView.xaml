<?xml version="1.0" encoding="utf-8" ?>
<ContentView
    x:Class="SuleymaniyeCalendar.Views.MonthTableView"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:localization="clr-namespace:LocalizationResourceManager.Maui;assembly=LocalizationResourceManager.Maui"
    xmlns:models="clr-namespace:SuleymaniyeCalendar.Models">
    <!-- Horizontal scroll only; CollectionView handles vertical -->
    <ScrollView Orientation="Horizontal"
                HorizontalScrollBarVisibility="Always">
        <VerticalStackLayout Spacing="1"
                             WidthRequest="800"
                             HorizontalOptions="Start"
                             VerticalOptions="FillAndExpand">
            <!-- Header -->
            <Grid Padding="8"
                  BackgroundColor="{AppThemeBinding Light={StaticResource PrimaryColor},
                                                    Dark={StaticResource PrimaryAccent800Color}}"
                  ColumnDefinitions="80,90,90,90,90,90,90,90,90"
                  ColumnSpacing="1"
                  WidthRequest="800">
                <Label
                    Grid.Column="0"
                    FontAttributes="Bold"
                    HorizontalTextAlignment="Center"
                    Text="{localization:Translate Tarih}"
                    TextColor="White"
                    VerticalTextAlignment="Center" />
                <Label
                    Grid.Column="1"
                    FontAttributes="Bold"
                    HorizontalTextAlignment="Center"
                    Text="{localization:Translate FecriKazip}"
                    TextColor="White"
                    VerticalTextAlignment="Center" />
                <Label
                    Grid.Column="2"
                    FontAttributes="Bold"
                    HorizontalTextAlignment="Center"
                    Text="{localization:Translate FecriSadik}"
                    TextColor="White"
                    VerticalTextAlignment="Center" />
                <Label
                    Grid.Column="3"
                    FontAttributes="Bold"
                    HorizontalTextAlignment="Center"
                    Text="{localization:Translate SabahSonu}"
                    TextColor="White"
                    VerticalTextAlignment="Center" />
                <Label
                    Grid.Column="4"
                    FontAttributes="Bold"
                    HorizontalTextAlignment="Center"
                    Text="{localization:Translate Ogle}"
                    TextColor="White"
                    VerticalTextAlignment="Center" />
                <Label
                    Grid.Column="5"
                    FontAttributes="Bold"
                    HorizontalTextAlignment="Center"
                    Text="{localization:Translate Ikindi}"
                    TextColor="White"
                    VerticalTextAlignment="Center" />
                <Label
                    Grid.Column="6"
                    FontAttributes="Bold"
                    HorizontalTextAlignment="Center"
                    Text="{localization:Translate Aksam}"
                    TextColor="White"
                    VerticalTextAlignment="Center" />
                <Label
                    Grid.Column="7"
                    FontAttributes="Bold"
                    HorizontalTextAlignment="Center"
                    Text="{localization:Translate Yatsi}"
                    TextColor="White"
                    VerticalTextAlignment="Center" />
                <Label
                    Grid.Column="8"
                    FontAttributes="Bold"
                    HorizontalTextAlignment="Center"
                    Text="{localization:Translate YatsiSonu}"
                    TextColor="White"
                    VerticalTextAlignment="Center" />
            </Grid>

            <!-- Rows -->
            <CollectionView
                ItemsSource="{Binding MonthlyCalendar}"
                ItemsLayout="VerticalList"
                ItemSizingStrategy="MeasureFirstItem"
                SelectionMode="None"
                VerticalOptions="FillAndExpand"
                VerticalScrollBarVisibility="Always">
                <CollectionView.ItemTemplate>
                    <DataTemplate x:DataType="models:Calendar">
                        <Grid Padding="2,4"
                              BackgroundColor="{AppThemeBinding Light={StaticResource SurfaceVariantColor},
                                                                Dark={StaticResource SurfaceVariantColorDark}}"
                              ColumnDefinitions="80,90,90,90,90,90,90,90,90"
                              ColumnSpacing="1"
                              WidthRequest="800">
                            <Label
                                Grid.Column="0"
                                Padding="2"
                                BackgroundColor="{StaticResource PrimaryAccent50Color}"
                                FontAttributes="Bold"
                                HorizontalTextAlignment="Center"
                                Text="{Binding Date}"
                                TextColor="{StaticResource PrimaryColor}"
                                VerticalTextAlignment="Center" />
                            <Label
                                Grid.Column="1"
                                HorizontalTextAlignment="Center"
                                Text="{Binding FalseFajr}"
                                VerticalTextAlignment="Center" />
                            <Label
                                Grid.Column="2"
                                FontAttributes="Bold"
                                HorizontalTextAlignment="Center"
                                Text="{Binding Fajr}"
                                VerticalTextAlignment="Center" />
                            <Label
                                Grid.Column="3"
                                HorizontalTextAlignment="Center"
                                Text="{Binding Sunrise}"
                                VerticalTextAlignment="Center" />
                            <Label
                                Grid.Column="4"
                                FontAttributes="Bold"
                                HorizontalTextAlignment="Center"
                                Text="{Binding Dhuhr}"
                                VerticalTextAlignment="Center" />
                            <Label
                                Grid.Column="5"
                                FontAttributes="Bold"
                                HorizontalTextAlignment="Center"
                                Text="{Binding Asr}"
                                VerticalTextAlignment="Center" />
                            <Label
                                Grid.Column="6"
                                FontAttributes="Bold"
                                HorizontalTextAlignment="Center"
                                Text="{Binding Maghrib}"
                                VerticalTextAlignment="Center" />
                            <Label
                                Grid.Column="7"
                                FontAttributes="Bold"
                                HorizontalTextAlignment="Center"
                                Text="{Binding Isha}"
                                VerticalTextAlignment="Center" />
                            <Label
                                Grid.Column="8"
                                HorizontalTextAlignment="Center"
                                Text="{Binding EndOfIsha}"
                                VerticalTextAlignment="Center" />
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </VerticalStackLayout>
    </ScrollView>
</ContentView>