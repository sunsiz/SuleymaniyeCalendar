<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="SuleymaniyeCalendar.Views.AboutPage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:localization="clr-namespace:LocalizationResourceManager.Maui;assembly=LocalizationResourceManager.Maui"
    xmlns:viewModels="clr-namespace:SuleymaniyeCalendar.ViewModels"
    x:DataType="viewModels:AboutViewModel"
    Title="{Binding Title}"
    FlowDirection="{DynamicResource FlowDirection}"
    BackgroundColor="{AppThemeBinding Light={StaticResource AppBackgroundColor}, Dark={StaticResource AppBackgroundColorDark}}">

    <Shell.TitleView>
        <StackLayout
            Margin="10"
            HeightRequest="34"
            Orientation="Horizontal">
            <Label
                AutomationProperties.IsInAccessibleTree="True"
                Style="{StaticResource LabelSectionHeader}"
                Text="{localization:Translate SuleymaniyeVakfi}" />
        </StackLayout>
    </Shell.TitleView>

    <ContentPage.Content>
        <ScrollView
            HorizontalOptions="Fill"
            Orientation="Vertical"
            VerticalOptions="Fill">
            <VerticalStackLayout
                Padding="10"
                Spacing="8">

                <!--  Hero Section with App Description (with subtle halo)  -->
                <Grid>
                    <BoxView Background="{StaticResource PrimaryHaloBrush}" />
                    <Border Style="{StaticResource GlassCard}">
                        <VerticalStackLayout Spacing="10">
                        <Label Style="{StaticResource HeadlineLargeStyle}"
                               Text="{localization:Translate SuleymaniyeVakfiTakvimi}"
                               HorizontalTextAlignment="Center"
                               TextColor="{AppThemeBinding Light={StaticResource PrimaryColor}, Dark={StaticResource Primary30}}" />
                        
                        <Label TextColor="{AppThemeBinding Light={StaticResource OnSurfaceColor}, Dark={StaticResource OnSurfaceColorDark}}"
                               Style="{StaticResource BodyLargeStyle}"
                               HorizontalTextAlignment="Center">
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="{localization:Translate AciklamaBas}" />
                                    <Span
                                        FontAttributes="Bold"
                                        Text="{localization:Translate AciklamaLinkText}"
                                        TextColor="{AppThemeBinding Light={StaticResource InfoColor}, Dark={StaticResource InfoColorDark}}"
                                        TextDecorations="Underline">
                                        <Span.GestureRecognizers>
                                            <TapGestureRecognizer Command="{Binding LinkButtonClickedCommand}" CommandParameter="{localization:Translate AciklamaLinkURL}" />
                                        </Span.GestureRecognizers>
                                    </Span>
                                    <Span Text="{localization:Translate AciklamaSon}" />
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>

                        <!-- Version Info -->
                        <Label HorizontalTextAlignment="Center"
                               Style="{StaticResource LabelLargeStyle}"
                               TextColor="{AppThemeBinding Light={StaticResource OnSurfaceVariantLight}, Dark={StaticResource OnSurfaceVariantDark}}">
                            <Label.FormattedText>
                                <FormattedString>
                                    <Span Text="{Binding VersionNumber}" />
                                    <Span Text="{localization:Translate Version}" />
                                </FormattedString>
                            </Label.FormattedText>
                        </Label>
                        </VerticalStackLayout>
                    </Border>
                </Grid>

                <!--  Social Media Section  -->
                <Border Style="{StaticResource GlassCard}">
                    <VerticalStackLayout Spacing="12">
                        <Label Text="{localization:Translate SosyalMedyaBaglantisi}"
                               Style="{StaticResource TitleLargeStyle}"
                               HorizontalTextAlignment="Center" />
                               
                        <Grid
                            ColumnDefinitions="*,*,*,*"
                            ColumnSpacing="12"
                            RowDefinitions="Auto">

                            <ImageButton
                                Grid.Column="0"
                                Style="{StaticResource ModernImageButton}"
                                Command="{Binding LinkButtonClickedCommand}"
                                CommandParameter="https://www.suleymaniyevakfi.org/"
                                HeightRequest="48"
                                WidthRequest="48"
                                SemanticProperties.Description="{localization:Translate SuleymaniyeVakfi}"
                                Source="app_logo.png" />

                            <ImageButton
                                Grid.Column="1"
                                Style="{StaticResource ModernImageButton}"
                                Command="{Binding LinkButtonClickedCommand}"
                                CommandParameter="https://www.facebook.com/suleymaniyevakfi/"
                                HeightRequest="48"
                                WidthRequest="48"
                                SemanticProperties.Description="{localization:Translate SuleymaniyeVakfiFacebook}"
                                Source="facebook.png" />

                            <ImageButton
                                Grid.Column="2"
                                Style="{StaticResource ModernImageButton}"
                                Command="{Binding LinkButtonClickedCommand}"
                                CommandParameter="https://twitter.com/suleymaniye_vkf"
                                HeightRequest="48"
                                WidthRequest="48"
                                SemanticProperties.Description="{localization:Translate SuleymaniyeVakfiTwitter}"
                                Source="twitter.png" />

                            <ImageButton
                                Grid.Column="3"
                                Style="{StaticResource ModernImageButton}"
                                Command="{Binding LinkButtonClickedCommand}"
                                CommandParameter="https://www.instagram.com/suleymaniyevakfi"
                                HeightRequest="48"
                                WidthRequest="48"
                                SemanticProperties.Description="{localization:Translate SuleymaniyeVakfiInstagram}"
                                Source="instagram.png" />
                        </Grid>
                    </VerticalStackLayout>
                </Border>

                <!--  App Store Section  -->
        <Border Style="{StaticResource GlassCard}">
                    <VerticalStackLayout Spacing="12">
                        <Label Text="{localization:Translate SuleymaniyeVakfiTakvimi}"
                               Style="{StaticResource TitleLargeStyle}"
                               HorizontalTextAlignment="Center" />
                               
                        <Grid
                            ColumnDefinitions="*,*"
                            ColumnSpacing="12"
                            HorizontalOptions="Center">

                            <ImageButton
                                Grid.Column="0"
                                Style="{StaticResource ModernImageButton}"
                                Command="{Binding LinkButtonClickedCommand}"
                                CommandParameter="https://play.google.com/store/apps/details?id=org.suleymaniyevakfi"
                                HeightRequest="48"
                                WidthRequest="48"
                                SemanticProperties.Description="Google Play Store"
                                Source="google_play.png" />

                            <ImageButton
                                Grid.Column="1"
                                Style="{StaticResource ModernImageButton}"
                                Command="{Binding LinkButtonClickedCommand}"
                                CommandParameter="https://apps.apple.com/app/id688657265"
                                HeightRequest="48"
                                WidthRequest="48"
                                SemanticProperties.Description="Apple App Store"
                                Source="app_store.png" />
                        </Grid>
                    </VerticalStackLayout>
                </Border>

                <!--  Action Section  -->
                <Border Style="{StaticResource Card}" IsVisible="{Binding ShowButtons}">
                    <!-- Settings Button with gradient background (rounded) -->
                    <Border
                        Padding="0"
                        StrokeThickness="0"
                        Background="{StaticResource PrimaryGradientBrush}">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="20" />
                        </Border.StrokeShape>
                        <Button
                            Command="{Binding SettingsCommand}"
                            SemanticProperties.Description="{localization:Translate UygulamaAyarlari}"
                            BackgroundColor="Transparent"
                            TextColor="{AppThemeBinding Light={StaticResource OnPrimaryColor}, Dark={StaticResource OnPrimaryColor}}"
                            FontFamily="OpenSansRegular"
                            FontSize="{DynamicResource BodyFontSize}"
                            FontAttributes="Bold"
                            Padding="20,12"
                            MinimumHeightRequest="48"
                            Text="{localization:Translate UygulamaAyarlari}" />
                    </Border>
                </Border>

            </VerticalStackLayout>
        </ScrollView>
    </ContentPage.Content>

</ContentPage>